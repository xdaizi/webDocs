# 网络协议总结

## 一.HTTP协议
### 1.超文本传输协议
- 协议：
	计算机之间交流通讯的规范。
- 传输：
   两点之间传输数数据
- 超文本：
  数据类型不只是文本，还有图片，媒体类型等。
 - 依赖：
  http不是一个独立的协议，依赖于TCP/IP。依靠 IP 协议实现寻址和路由、TCP 协议实现可靠数据传输、DNS 协议实现域名查找、SSL/TLS 协议实现安全通信
 ### 2.相关概念图解
 
  ![[http相关应用.png]]

![[http相关概念.png]]

### 3.URI与URL
#### URI的组成
-	协议
-	身份信息
-	主机名
-	路径
-	query参数
-  片段标识符

![[URI.png]]
### URI的编码
- 在 URI 里只能使用 ASCII 码
- URI 转义的规则有点“简单粗暴”，直接把非 ASCII 码或特殊字符转换成十六进制字节值，然后前面再加上一个“%”
- 在浏览器的地址栏里通常是不会看到这些转义后的“乱码”的

#### 区别
- URI：统一资源标识符
	能够唯一地标记互联网上资源
- URL： 统一资源定位符
 	URI的一个子集，



## 二.TCP/IP
### 1.四层网络结构
- 链路层：MAC地址
   通过MAC地址决定广播本地，还是传输给下个MAC处理。MAC:局域网地址，网关/网卡。
 - 网络层：IP地址
 	通过IP地址把各个局域网，广域网连成一个大的网络世界。
 - 传输层：TCP、UDP
 	保证数据在IP地址间传输
 - 应用层：http
 	面向具体应用的协议
### 2.数据传输过程
- 发送：HTTP 协议的传输过程就是这样通过协议栈逐层向下，每一层都添加本层的专有数据，层层打包，然后通过下层发送出去
	
- 接收： 接收数据是则是相反的操作，从下往上穿过协议栈，逐层拆包，每层去掉本层的专有头，上层就会拿到自己的数据。
   
![[网咯四层应用传输的过程.png]]

### 3.DNS
**www.apple.com 解析过程**：从左往右
- 根域名 ：www的IP
- 顶级域名：apple.com 的IP
- 权威域名： www.apple.com 的IP

1.  域名使用字符串来代替 IP 地址，方便用户记忆，本质上一个名字空间系统；
2.  DNS 就像是我们现实世界里的电话本、查号台，统管着互联网世界里的所有网站，是一个“超级大管家”；
3.  DNS 是一个树状的分布式查询系统，但为了提高查询效率，外围有多级的缓存；
	1.  本地缓存
	2.  本地文件host文件
	3.  局域DNS解析
	4.  根域名DNS解析
	5.  顶级域名
	6.  二级域名
4.  使用 DNS 可以实现基于域名的负载均衡，既可以在内网，也可以在外网。

### 3.相关概念
- 二层转发：MAC决定广播本地，还是传递给下个MAC
- 三层路由：设备工作在ip层，报文经过有路由功能的设备时，设备分析报文中的头部信息，拿到ip地址，根据网段范围，进行本地转发或选择下一个网关
- DNS: 域名解析得到IP，所以在应用层
- CDN: 影响DNS解析，得到代理的IP而不是源IP，实现负载均衡。




## http1.0， http1.1，https，http2，http3
- [[http系列#三 http1 0 | http1.0]]
- [[http系列#五 http 2 | http2]]
- [[http系列#六 http 3 | http3]]

## TCP、IP
[[TCP,IP,UDP#二 TCP | TCP]]
## UDP
[[TCP,IP,UDP#一 UDP | UDP]]
## 应用
- CDN
## 之间的联系