# 基础建设
## 一.构建工具
### 1.构建工具的选择权衡项
- 构建速度
- 对JS以外资源的处理
- 代码分割
- **依赖机制**： 代码导入
- 代码输出
- 代码编译
- **Hashing，即对打包资源进行版本信息映射**


### 2.vite

#### 特点
-   Vite 基于 ESM，因此实现了快速启动和即时模块热更新能力；
-   Vite 在服务端实现了按需编译。
-   Vite 在开发环境下并没有打包和构建过程。
-   Vite 利用浏览器原生支持 ESM 这一特性，省略了对模块的打包，也就不需要生成 bundle，因此初次启动更快，HMR 特性友好。
    
-   Vite 开发模式下，通过启动 koa 服务器，在服务端完成模块的改写（比如单文件的解析编译等）和请求处理，实现真正的按需编译。
	-   依据 ESM 规范在浏览器 script 标签中的实现，对于`<script type="module" src="./bar.js"></script>`内容：**当出现 script 标签 type 属性为 module 时，浏览器将会请求模块相应内容**
    
-   Vite Server 所有逻辑基本都依赖中间件实现。这些中间件，拦截请求之后，完成了如下内容：
    
    -   处理 ESM 语法，比如将业务代码中的 import 第三方依赖路径转为浏览器可识别的依赖路径；
        
    -   对 .ts、.vue 等文件进行即时编译；
        
    -   对 Sass/Less 的需要预编译的模块进行编译；
        
    -   和浏览器端建立 socket 连接，实现 HMR。

![[vite.png]]

### 3.webpack[[webpack]]